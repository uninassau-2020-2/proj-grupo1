<div class="row">
    <legend><b>&nbsp;&nbsp;Cadastro de Vendedor</b></legend>
</div>
<br>
<app-alerta></app-alerta>
<div class="fornecedor" *ngIf="!vendedor">
    <form [formGroup]="formVendedor" (ngSubmit)="onSubmit()">
        <div class="form-row">
            <div class="form-group col-md-8">
                <label>Nome do Vendedor *</label>
                <input type="text" name="nome_vendedor" class="form-control" formControlName="nome_vendedor" minlength="3" maxlength="150"
                [ngClass]="{ 'is-invalid': submitted && v.nome_vendedor.errors }"/>
                <div *ngIf="submitted && v.nome_vendedor.errors" class="invalid-feedback">
                    <div *ngIf="v.nome_vendedor.errors.required">Vendedor inválido</div>
                    <div *ngIf="v.nome_vendedor.errors.minlength">Nome deve ter no minimo 3 caracteres</div>
                    <div *ngIf="v.nome_vendedor.errors.maxlength">Nome deve ter no maximo 150 caracteres</div>
                </div>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-3">
                <label>Login *</label>
                <input type="text" name="login" class="form-control" formControlName="login" minlength="3" maxlength="50"
                [ngClass]="{ 'is-invalid': submitted && v.login.errors }"/>
                <div *ngIf="submitted && v.login.errors" class="invalid-feedback">
                    <div *ngIf="v.login.errors.required">Descrição inválida</div>
                    <div *ngIf="v.login.errors.minlength">Login deve ter no minimo 3 caracteres</div>
                    <div *ngIf="v.login.errors.maxlength">Login deve ter no maximo 150 caracteres</div>
                </div>
            </div>
        </div>					
        <div class="form-row">
            <div class="form-group col-md-3">
                <label>Senha *</label>
                <input type="password" name="senha" class="form-control" formControlName="senha" minlength="3" maxlength="50"
                [ngClass]="{ 'is-invalid': submitted && v.senha.errors }"/>
                <div *ngIf="submitted && v.senha.errors" class="invalid-feedback">
                    <div *ngIf="v.senha.errors.required">Descrição inválida</div>
                    <div *ngIf="v.senha.errors.minlength">Senha deve ter no minimo 3 caracteres</div>
                    <div *ngIf="v.senha.errors.maxlength">Senha deve ter no maximo 150 caracteres</div>
                </div>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-2">
                <label>Status *</label>
                <select style="height: 35px;" name="ativo" class="form-control" formControlName="ativo" id="ativo"
                    required [ngClass]="{ 'is-invalid': submitted && v.ativo.errors }">
                    <option *ngFor="let status of statusList" value="{{ status }}">{{ status }}</option>
                </select>
                <div *ngIf="submitted && v.ativo.errors" class="invalid-feedback">
                    <div *ngIf="v.ativo.errors.required">Status inválida</div>
                </div>
            </div>
        </div>      
        <div class="footer">
            <button type="reset" style="width: 150px;" class="btn btn-nova" (click)="clean()">Limpar dados</button>
            <button type="submit" [disabled]="loading" class="btn btn-cangaco" style="width: 150px; margin-left: 20px;">
                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                Salvar
            </button>
        </div>
    </form>
</div>
<div class="fornecedor" *ngIf="vendedor">
    <form>
        <tr>
            <th><label>Código: &nbsp;&nbsp;</label></th>
            <td>{{ vendedor.cod_vendedor }}</td>
        </tr>
        <tr>
            <th><label>Nome:</label></th>
            <td>{{ vendedor.nome_vendedor }}</td>
        </tr>
        <tr>
            <th><label>Login: </label></th>
            <td>{{ vendedor.login }}</td>
        </tr>
        <tr>
            <th><label>Status: </label></th>
            <td>{{ getStatus(vendedor.ativo) }}</td>
        </tr>
    </form>
</div>

